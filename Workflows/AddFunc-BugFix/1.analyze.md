# 🔍 Phase 1: Analyze - 問題分析フェーズ

## 📋 このフェーズの目的
- 問題の本質を徹底的に理解する
- 要件を明確化し、曖昧さを排除する
- 影響範囲と制約条件を特定する

## ✅ 分析チェックリスト

### 1. 問題の詳細把握
- [ ] **問題の症状を詳細に記録**
  - 発生条件・頻度
  - エラーメッセージ・ログ
  - 再現手順の確認

- [ ] **期待される動作の明確化**
  - 正常時の振る舞い
  - ユーザーの期待値
  - ビジネス要件との整合性

### 2. 影響範囲の特定
- [ ] **直接的影響の調査**
  - 関連する機能・モジュール
  - 依存関係の確認
  - データフローの追跡

- [ ] **間接的影響の予測**
  - 他システムとの連携
  - パフォーマンスへの影響
  - セキュリティへの影響

### 3. 制約条件の確認
- [ ] **技術的制約**
  - 既存アーキテクチャとの整合性
  - 使用可能な技術スタック
  - パフォーマンス要件

- [ ] **ビジネス制約**
  - 予算・リソース制限
  - スケジュール制約
  - 互換性要件

### 4. ルートコーズ分析
- [ ] **5 Why 分析の実施**
  ```
  問題: [問題の症状]
  Why 1: [なぜこの問題が起きたか]
  Why 2: [なぜ上記の状況になったか]
  Why 3: [なぜ上記の状況になったか]
  Why 4: [なぜ上記の状況になったか]
  Why 5: [なぜ上記の状況になったか - ルートコーズ]
  ```

- [ ] **関連コードの詳細調査**
  - 問題箇所のコード解析
  - 関連ファイルの確認
  - バージョン履歴の調査

## 📝 分析結果記録テンプレート

```markdown
## 分析結果サマリー

### 問題概要
- **症状**: [具体的な症状]
- **発生条件**: [いつ、どこで発生するか]
- **影響範囲**: [影響を受ける機能・ユーザー]

### ルートコーズ
- **根本原因**: [5 Why分析の結果]
- **発生メカニズム**: [なぜこの原因で問題が起きるか]

### 制約条件
- **技術的制約**: [実装上の制限]
- **ビジネス制約**: [予算・スケジュール等]
- **運用制約**: [運用上の考慮事項]

### 優先度評価
- **重要度**: [高・中・低] - ビジネスへの影響
- **緊急度**: [高・中・低] - 対応の急務性
- **複雑度**: [高・中・低] - 実装の難易度
```

## 🎯 分析品質基準

### 深度基準
- [ ] 問題の表面的症状だけでなく、根本原因を特定
- [ ] 複数の仮説を立て、証拠に基づいて検証
- [ ] ステークホルダーの視点を全て考慮

### 完全性基準
- [ ] 影響範囲の漏れなき特定
- [ ] 制約条件の網羅的確認
- [ ] リスク要因の洗い出し完了

### 明確性基準  
- [ ] 誰が読んでも理解できる記録
- [ ] 曖昧な表現の排除
- [ ] 具体的な数値・事実での記述

## ⚠️ よくある分析ミス

### 🚫 避けるべき行為
- **症状と原因の混同**: 表面的な問題を根本原因と誤認
- **思い込みによる分析**: 証拠に基づかない推測
- **範囲の見落とし**: 影響範囲の過小評価
- **制約の無視**: 実装上の制限を考慮しない分析

### ✅ 推奨アプローチ
- **事実ベース**: ログ・データに基づく客観的分析
- **複数視点**: 技術・ビジネス・ユーザー視点での多角的検討
- **段階的深化**: 粗い分析から詳細分析へ段階的に深化
- **継続確認**: 分析結果の妥当性を継続的に検証

## 🔄 次フェーズへの引き継ぎ

### Phase 2 (Plan) への成果物
- [ ] **分析結果サマリー** - 問題の全体像
- [ ] **ルートコーズ特定書** - 根本原因の詳細
- [ ] **制約条件一覧** - 実装上の制限事項
- [ ] **影響範囲マップ** - 変更による影響予測

### 引き継ぎ品質チェック
- [ ] 次フェーズの担当者が理解できる記録になっているか
- [ ] 計画策定に必要な情報が漏れなく含まれているか
- [ ] 曖昧さや解釈の余地が残っていないか

---

**徹底的な分析が、質の高い解決策の基盤となる** 🎯

> "問題を正しく理解することは、解決策の半分である" - Charles Kettering