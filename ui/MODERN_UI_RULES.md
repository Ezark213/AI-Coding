# Modern UI Rules (Desktop Apps)

目的: AI生成コードでも"古臭さ"を避け、2025年時点のモダンUI品質を再現する統一規約。

## 0. 非機能要件（必須）
- **スケール対応**: DPI感知・動的レイアウト・フォント縮放に破綻なし（100–200%）。
- **テーマ**: ライト/ダークの2系統必須。OSテーマに追随できること。
- **アクセシビリティ**: コントラスト比 AA 準拠（通常テキスト 4.5:1 以上）。キーボード操作100%。
- **動作感**: 60fps 目標、モーダル/オーバーレイは開閉 <150ms。
- **国際化**: 文言外出し（i18n）、英日での再流しで崩れない可変幅。

## 1. ビジュアル・トークン基準
- **色**: グレーは10段階（`--gray-0`〜`--gray-900`）、プライマリ/アクセントはHSLで階調管理。
- **角丸**: 基本 8px、ボタン/入力は 6–8px、カード/モーダルは 12–16px。
- **影**: 3段階（sm/md/lg）。md以上の影は低頻度。
- **余白**: 4pt グリッド（4, 8, 12, 16, 20, 24, 32, 40, 48, 56, 64px）。
- **フォント**: システムフォント指定必須。Inter/Segoe UI/system-ui を優先順位で指定なしは禁止（OSデフォルトフォントに流れないこと）。

## 2. 禁止事項
- **デフォルトシステムUI**: Button、TextBox、ComboBox等の直接利用禁止。
- **直接色指定**: #ffffff、rgb() 等の直接値指定禁止。必ずDesignTokens経由。
- **過剰アニメーション**: 400ms 超のアニメーション禁止。
- **グラデーション多用**: 装飾目的の多色グラデーション禁止。

## 3. コンポーネント必須機能
- **ボタン**: hover/pressed/disabled 状態、icon + text 対応、サイズ統一（sm/md/lg）。
- **入力系**: ラベル上配置、エラーメッセージ下配置、プレースホルダは補助情報のみ。
- **テーブル**: 行hover、ソート機能、罫線より余白で区切り。
- **ナビゲーション**: アクティブ状態の視覚的区別、最大7項目制限。
- **モーダル**: 複数閉じる手段（×ボタン + Esc + 背景クリック）。

## 4. 技術スタック別推奨
- **Tauri + React**: tailwind + radix-ui を基盤にする。
- **Electron**: 同上、または mantine。
- **WPF**: MahApps.Metro または MaterialDesignInXAML を必須。
- **Qt/PySide**: Qt Quick Controls 2 + Material/Universal テーマ。

## 5. ルール適用優先度
- **P0（必須）**: アクセシビリティ、テーマ対応
- **P1（推奨）**: デザイントークン利用、コンポーネント統一  
- **P2（望ましい）**: アニメーション、マイクロインタラクション

## 6. チェック項目
開発完了時は `ui/CHECKLIST.md` に従って品質確認を実施すること。