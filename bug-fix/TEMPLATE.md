# Claude Code バグ修正テンプレート

## 🚀 シンプルバグ修正（基本版）

### 問題
**何が起きてる？**: [1行で]
**どうやって再現？**: [3ステップ以内]
**どうなるべき？**: [1行で]

### 情報
**アプリ情報**: 
[README/仕様/前回ログを貼り付け]

**エラーがあれば**: 
[エラーメッセージを貼り付け]

**ファイル構成**: 
[関連するファイル構成を貼り付け]

## 🏗️ 要件定義エンジニア版（詳細版）

### 【背景・目的】
**プロジェクト概要**:
[作ったアプリのREADMEを貼り付け]

**なぜこの修正が必要か**:
[ビジネス価値・ユーザー影響・優先度]

### 【現状の課題】
**現象**:
[具体的に何が起きているか]

**影響範囲**:
[どのユーザー・機能・データが影響を受けるか]

**再現条件**:
[いつ・どのような状況で発生するか]

**頻度・緊急度**:
[どのくらいの頻度で発生するか・どの程度緊急か]

### 【期待する成果・理想の出力】
**修正後の動作**:
[具体的にどのような動作を期待するか]

**成功基準**:
[何をもって修正完了とするか・テスト方法]

**パフォーマンス要件**:
[応答時間・処理能力・メモリ使用量等の要件]

### 【制約条件】
**技術制約**:
[使用する技術スタック・ライブラリの制限]

**データ制約**:
[既存データとの互換性・移行の必要性]

**時間制約**:
[リリース期限・作業時間の制限]

**その他制約**:
[セキュリティ・法規制・運用制約]

### 【確認・質問事項】
Claude Codeは以下の観点で質問・確認を行います：

1. **代替案の検討**: より良い解決方法がないか提案
2. **影響範囲の確認**: 修正による他機能への影響
3. **不明点の明確化**: 推測ではなく確認による正確な理解
4. **テスト方針の確認**: どのような観点でテストするか
5. **段階的実装**: 複雑な場合の分割実装の提案

## 📋 プロンプト連携方法

### 要件定義エンジニア版 → シンプル版への変換
詳細な要件分析後、実装者向けに以下の形式で整理：

```bash
# 前提：要件定義エンジニアがClaude Codeで分析・整理
claude-code "
あなたは要件定義エンジニア歴40年のプロです。以下の形式でバグ修正要件を整理し、実装者に伝わりやすい形にしてください：

【背景・目的】
[アプリのREADME全文を貼り付け]

【現状の課題】
[詳細な問題分析]

【期待する成果・理想の出力】
[具体的な成功基準]

【制約条件】
[技術・時間・データ制約]

より良い方法があれば代替案を提示し、判断に必要な情報があれば質問してください。推測で実行せず、ユーザーに質問してから整理してください。
"

# ↓ 整理された要件をシンプル版で実装
claude-code "
バグ修正してください：

問題：[整理された問題の要約1行]
再現：[確認された再現手順3ステップ以内]
期待：[明確になった期待動作1行]

アプリ情報：
[要件分析で整理された技術情報]

エラーログ：
[確認されたエラーメッセージ]
"
```

### 使い分け指針
- **シンプル版**: 明確で小規模なバグ、緊急度が高い場合
- **要件定義版**: 複雑な問題、影響範囲が不明、代替案検討が必要な場合

## 使用例

### 基本バグ
```bash
claude-code "
バグ修正してください：

問題：ログイン後に500エラー
再現：1.ログイン 2.ダッシュボード表示 3.エラー発生
期待：正常にダッシュボードが表示される

アプリ情報：
Node.js + Express + PostgreSQL のWebアプリ

エラーログ：
Error: Cannot read property 'id' of undefined
at /api/dashboard GET handler
"
```

## パフォーマンスバグ
```bash
claude-code "
バグ修正してください：

問題：テーブル表示が5秒かかる
再現：1.データ画面開く 2.待つ 3.遅い
期待：1秒以内で表示

アプリ情報：
React + 1万件データのテーブル表示
現在：全データを一度に描画
"
```